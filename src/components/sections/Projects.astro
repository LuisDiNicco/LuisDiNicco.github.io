---
// src/components/sections/Projects.astro
import { useTranslations } from '../../i18n';
import ProjectCard from '../ui/ProjectCard.astro';
import SectionTitle from '../ui/SectionTitle.astro';
import { PROJECTS } from '../../data/projects'; // <--- Importamos los datos

interface Props {
  lang: 'es' | 'en';
}

const { lang } = Astro.props;
const t = useTranslations(lang);
---

<section id="projects" class="scroll-mt-24 mb-24">
    
    <div class="mb-10">
        <SectionTitle number="04" title={t('proj.title')} />
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        
        {PROJECTS.map((project) => (
            <ProjectCard 
                title={t(project.title)}
                description={t(project.description)}
                tags={project.tags}
                linkText={t(project.linkText)}
                linkUrl={project.linkUrl}
                demoText={project.demoText ? t(project.demoText) : undefined}
                demoUrl={project.demoUrl}
            >
                {project.achievements.map((achievementKey) => (
                    <li class="flex items-start gap-2 text-xs text-gray-400 font-mono">
                        <span class="text-green-500 mt-0.5 opacity-70">~</span>
                        {t(achievementKey)}
                    </li>
                ))}
            </ProjectCard>
        ))}

    </div>
</section>